openapi: 3.0.1
info:
  title: OpenAPI definition
  version: v0
servers:
  - url: http://localhost:8080/api
    description: Generated server url
tags:
  - name: User
    description: API for retrieving information about users.
  - name: ValueSet
    description: "API for retrieving various valuesets, such as measurement types, supported\
    \ by the system."
  - name: Patient
    description: API for manipulating and retrieving patients.
  - name: QuestionnaireResponse
    description: API for manipulating and retrieving QuestionnaireResponses.
  - name: PlanDefinition
    description: API for manipulating and retrieving PlanDefinitions.
  - name: CarePlan
    description: API for manipulating and retrieving CarePlans.
  - name: Person
    description: API for manipulating and retrieving information about persons.
  - name: Questionnaire
    description: API for manipulating and retrieving Questionnaires.
paths:
  /v1/resetpassword:
    put:
      tags:
        - Patient
      operationId: resetPassword
      parameters:
        - name: cpr
          in: query
          required: true
          schema:
            type: string
      responses:
        "400":
          description: Bad Request
          content:
            'application/json':
              schema:
                $ref: '#/components/schemas/ErrorDto'
        "502":
          description: Bad Gateway
          content:
            'application/json':
              schema:
                $ref: '#/components/schemas/ErrorDto'
        "403":
          description: Forbidden
          content:
            'application/json':
              schema:
                $ref: '#/components/schemas/ErrorDto'
        "404":
          description: Not Found
          content:
            'application/json':
              schema:
                $ref: '#/components/schemas/ErrorDto'
        "500":
          description: Internal Server Error
          content:
            'application/json':
              schema:
                $ref: '#/components/schemas/ErrorDto'
        "200":
          description: OK
  /v1/questionnaire:
    get:
      tags:
        - Questionnaire
      summary: Get all Questionnaires.
      description: Retrieves a list of Questionnaire.
      operationId: getQuestionnaires
      parameters:
        - name: statusesToInclude
          in: query
          required: false
          schema:
            type: array
            items:
              type: string
      responses:
        "400":
          description: Bad Request
          content:
            'application/json':
              schema:
                $ref: '#/components/schemas/ErrorDto'
        "502":
          description: Bad Gateway
          content:
            'application/json':
              schema:
                $ref: '#/components/schemas/ErrorDto'
        "403":
          description: Forbidden
          content:
            'application/json':
              schema:
                $ref: '#/components/schemas/ErrorDto'
        "404":
          description: Not Found
          content:
            'application/json':
              schema:
                $ref: '#/components/schemas/ErrorDto'
        "500":
          description: Internal Server Error
          content:
            'application/json':
              schema:
                $ref: '#/components/schemas/ErrorDto'
        "200":
          description: OK
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/QuestionnaireDto'
    put:
      tags:
        - Questionnaire
      operationId: updateQuestionnaire
      parameters:
        - name: questionnaireDto
          in: query
          required: true
          schema:
            $ref: '#/components/schemas/QuestionnaireDto'
      responses:
        "400":
          description: Bad Request
          content:
            'application/json':
              schema:
                $ref: '#/components/schemas/ErrorDto'
        "502":
          description: Bad Gateway
          content:
            'application/json':
              schema:
                $ref: '#/components/schemas/ErrorDto'
        "403":
          description: Forbidden
          content:
            'application/json':
              schema:
                $ref: '#/components/schemas/ErrorDto'
        "404":
          description: Not Found
          content:
            'application/json':
              schema:
                $ref: '#/components/schemas/ErrorDto'
        "500":
          description: Internal Server Error
          content:
            'application/json':
              schema:
                $ref: '#/components/schemas/ErrorDto'
        "200":
          description: OK
    post:
      tags:
        - Questionnaire
      summary: Create a new Questionnaire.
      description: Create a Questionnaire.
      operationId: createQuestionnaire
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateQuestionnaireRequest'
        required: true
      responses:
        "400":
          description: Bad Request
          content:
            'application/json':
              schema:
                $ref: '#/components/schemas/ErrorDto'
        "502":
          description: Bad Gateway
          content:
            'application/json':
              schema:
                $ref: '#/components/schemas/ErrorDto'
        "403":
          description: Forbidden
          content:
            'application/json':
              schema:
                $ref: '#/components/schemas/ErrorDto'
        "404":
          description: Not Found
          content:
            'application/json':
              schema:
                $ref: '#/components/schemas/ErrorDto'
        "500":
          description: Error during creation of Questionnaire.
          content:
            'application/json':
              schema:
                $ref: '#/components/schemas/ErrorDto'
        "201":
          description: Successful operation.
          headers:
            Location:
              description: URL pointing to the created Questionnaire.
              style: simple
  /v1/questionnaire/{id}/retire:
    put:
      tags:
        - Questionnaire
      operationId: retireQuestionnaire
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: string
      responses:
        "400":
          description: Bad Request
          content:
            'application/json':
              schema:
                $ref: '#/components/schemas/ErrorDto'
        "502":
          description: Bad Gateway
          content:
            'application/json':
              schema:
                $ref: '#/components/schemas/ErrorDto'
        "403":
          description: Forbidden
          content:
            'application/json':
              schema:
                $ref: '#/components/schemas/ErrorDto'
        "404":
          description: Not Found
          content:
            'application/json':
              schema:
                $ref: '#/components/schemas/ErrorDto'
        "500":
          description: Internal Server Error
          content:
            'application/json':
              schema:
                $ref: '#/components/schemas/ErrorDto'
        "200":
          description: OK
  /v1/plandefinition:
    get:
      tags:
        - PlanDefinition
      operationId: getPlanDefinitions
      parameters:
        - name: statusesToInclude
          in: query
          required: false
          schema:
            type: array
            items:
              type: string
      responses:
        "400":
          description: Bad Request
          content:
            'application/json':
              schema:
                $ref: '#/components/schemas/ErrorDto'
        "502":
          description: Bad Gateway
          content:
            'application/json':
              schema:
                $ref: '#/components/schemas/ErrorDto'
        "403":
          description: Forbidden
          content:
            'application/json':
              schema:
                $ref: '#/components/schemas/ErrorDto'
        "404":
          description: Not Found
          content:
            'application/json':
              schema:
                $ref: '#/components/schemas/ErrorDto'
        "500":
          description: Internal Server Error
          content:
            'application/json':
              schema:
                $ref: '#/components/schemas/ErrorDto'
        "200":
          description: OK
          content:
            'application/json':
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/PlanDefinitionDto'
    put:
      tags:
        - PlanDefinition
      operationId: updatePlanDefinition
      parameters:
        - name: planDefinitionDto
          in: query
          required: true
          schema:
            $ref: '#/components/schemas/PlanDefinitionDto'
      responses:
        "400":
          description: Bad Request
          content:
            'application/json':
              schema:
                $ref: '#/components/schemas/ErrorDto'
        "502":
          description: Bad Gateway
          content:
            'application/json':
              schema:
                $ref: '#/components/schemas/ErrorDto'
        "403":
          description: Forbidden
          content:
            'application/json':
              schema:
                $ref: '#/components/schemas/ErrorDto'
        "404":
          description: Not Found
          content:
            'application/json':
              schema:
                $ref: '#/components/schemas/ErrorDto'
        "500":
          description: Internal Server Error
          content:
            'application/json':
              schema:
                $ref: '#/components/schemas/ErrorDto'
        "200":
          description: OK
    post:
      tags:
        - PlanDefinition
      summary: Create a new PlanDefinition.
      description: Create a PlanDefinition.
      operationId: createPlanDefinition
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreatePlanDefinitionRequest'
        required: true
      responses:
        "400":
          description: Bad Request
          content:
            'application/json':
              schema:
                $ref: '#/components/schemas/ErrorDto'
        "502":
          description: Bad Gateway
          content:
            'application/json':
              schema:
                $ref: '#/components/schemas/ErrorDto'
        "403":
          description: Forbidden
          content:
            'application/json':
              schema:
                $ref: '#/components/schemas/ErrorDto'
        "404":
          description: Not Found
          content:
            'application/json':
              schema:
                $ref: '#/components/schemas/ErrorDto'
        "500":
          description: Error during creation of PlanDefinition.
          content:
            'application/json':
              schema:
                $ref: '#/components/schemas/ErrorDto'
        "201":
          description: Successful operation.
          headers:
            Location:
              description: URL pointing to the created PlanDefinition.
              style: simple
  /v1/plandefinition/{id}/retire:
    put:
      tags:
        - PlanDefinition
      operationId: retirePlanDefinition
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: string
      responses:
        "400":
          description: Bad Request
          content:
            'application/json':
              schema:
                $ref: '#/components/schemas/ErrorDto'
        "502":
          description: Bad Gateway
          content:
            'application/json':
              schema:
                $ref: '#/components/schemas/ErrorDto'
        "403":
          description: Forbidden
          content:
            'application/json':
              schema:
                $ref: '#/components/schemas/ErrorDto'
        "404":
          description: Not Found
          content:
            'application/json':
              schema:
                $ref: '#/components/schemas/ErrorDto'
        "500":
          description: Internal Server Error
          content:
            'application/json':
              schema:
                $ref: '#/components/schemas/ErrorDto'
        "200":
          description: OK
  /v1/careplan:
    get:
      tags:
        - CarePlan
      operationId: searchCarePlans
      parameters:
        - name: cpr
          in: query
          schema:
            type: string
        - name: only_unsatisfied_schedules
          in: query
          schema:
            type: boolean
        - name: only_active_careplans
          in: query
          schema:
            type: boolean
        - name: page_number
          in: query
          required: false
          schema:
            type: integer
        - name: page_size
          in: query
          schema:
            type: integer
      responses:
        "400":
          description: Bad Request
          content:
            'application/json':
              schema:
                $ref: '#/components/schemas/ErrorDto'
        "502":
          description: Bad Gateway
          content:
            'application/json':
              schema:
                $ref: '#/components/schemas/ErrorDto'
        "403":
          description: Forbidden
          content:
            'application/json':
              schema:
                $ref: '#/components/schemas/ErrorDto'
        "404":
          description: Not Found
          content:
            'application/json':
              schema:
                $ref: '#/components/schemas/ErrorDto'
        "500":
          description: Internal Server Error
          content:
            'application/json':
              schema:
                $ref: '#/components/schemas/ErrorDto'
        "200":
          description: OK
          content:
            'application/json':
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/CarePlanDto'
    put:
      tags:
        - CarePlan
      operationId: updateCarePlan
      parameters:
        - name: carePlanDto
          in: query
          required: true
          schema:
            $ref: '#/components/schemas/CarePlanDto'
      responses:
        "400":
          description: Bad Request
          content:
            'application/json':
              schema:
                $ref: '#/components/schemas/ErrorDto'
        "502":
          description: Bad Gateway
          content:
            'application/json':
              schema:
                $ref: '#/components/schemas/ErrorDto'
        "403":
          description: Forbidden
          content:
            'application/json':
              schema:
                $ref: '#/components/schemas/ErrorDto'
        "404":
          description: Not Found
          content:
            'application/json':
              schema:
                $ref: '#/components/schemas/ErrorDto'
        "500":
          description: Internal Server Error
          content:
            'application/json':
              schema:
                $ref: '#/components/schemas/ErrorDto'
        "200":
          description: OK
    post:
      tags:
        - CarePlan
      summary: Create a new CarePlan for a patient.
      description: "Create a CarePlan for a patient, based on a PlanDefinition."
      operationId: createCarePlan
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateCarePlanRequest'
        required: true
      responses:
        "400":
          description: Bad Request
          content:
            'application/json':
              schema:
                $ref: '#/components/schemas/ErrorDto'
        "502":
          description: Bad Gateway
          content:
            'application/json':
              schema:
                $ref: '#/components/schemas/ErrorDto'
        "403":
          description: Forbidden
          content:
            'application/json':
              schema:
                $ref: '#/components/schemas/ErrorDto'
        "404":
          description: Not Found
          content:
            'application/json':
              schema:
                $ref: '#/components/schemas/ErrorDto'
        "500":
          description: Error during creation of CarePlan.
          content:
            'application/json':
              schema:
                $ref: '#/components/schemas/ErrorDto'
        "201":
          description: Successful operation.
          headers:
            Location:
              description: URL pointing to the created CarePlan.
              style: simple
  /v1/careplan/{id}/resolve-alarm/{questionnaireId}:
    put:
      tags:
        - CarePlan
      operationId: resolveAlarm
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: string
        - name: questionnaireId
          in: path
          required: true
          schema:
            type: string
      responses:
        "400":
          description: Bad Request
          content:
            'application/json':
              schema:
                $ref: '#/components/schemas/ErrorDto'
        "502":
          description: Bad Gateway
          content:
            'application/json':
              schema:
                $ref: '#/components/schemas/ErrorDto'
        "403":
          description: Forbidden
          content:
            'application/json':
              schema:
                $ref: '#/components/schemas/ErrorDto'
        "404":
          description: Not Found
          content:
            'application/json':
              schema:
                $ref: '#/components/schemas/ErrorDto'
        "500":
          description: Internal Server Error
          content:
            'application/json':
              schema:
                $ref: '#/components/schemas/ErrorDto'
        "200":
          description: OK
  /v1/careplan/{id}/complete:
    put:
      tags:
        - CarePlan
      operationId: completeCarePlan
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: string
      responses:
        "400":
          description: Bad Request
          content:
            'application/json':
              schema:
                $ref: '#/components/schemas/ErrorDto'
        "502":
          description: Bad Gateway
          content:
            'application/json':
              schema:
                $ref: '#/components/schemas/ErrorDto'
        "403":
          description: Forbidden
          content:
            'application/json':
              schema:
                $ref: '#/components/schemas/ErrorDto'
        "404":
          description: Not Found
          content:
            'application/json':
              schema:
                $ref: '#/components/schemas/ErrorDto'
        "500":
          description: Internal Server Error
          content:
            'application/json':
              schema:
                $ref: '#/components/schemas/ErrorDto'
        "200":
          description: OK
  /v1/questionnaireresponse:
    get:
      tags:
        - QuestionnaireResponse
      operationId: getQuestionnaireResponsesByStatus
      parameters:
        - name: status
          in: query
          required: true
          schema:
            type: array
            items:
              $ref: '#/components/schemas/examinationStatusDto'

        - name: pageNumber
          in: query
          required: true
          schema:
            type: integer
            format: int32
        - name: pageSize
          in: query
          required: true
          schema:
            type: integer
            format: int32
      responses:
        "400":
          description: Bad Request
          content:
            'application/json':
              schema:
                $ref: '#/components/schemas/ErrorDto'
        "502":
          description: Bad Gateway
          content:
            'application/json':
              schema:
                $ref: '#/components/schemas/ErrorDto'
        "403":
          description: Forbidden
          content:
            'application/json':
              schema:
                $ref: '#/components/schemas/ErrorDto'
        "404":
          description: Not Found
          content:
            'application/json':
              schema:
                $ref: '#/components/schemas/ErrorDto'
        "500":
          description: Internal Server Error
          content:
            'application/json':
              schema:
                $ref: '#/components/schemas/ErrorDto'
        "200":
          description: OK
          content:
            'application/json':
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/QuestionnaireResponseDto'
    post:
      tags:
        - QuestionnaireResponse
      operationId: createQuestionnaireResponse
      parameters:
        - name: questionnaireResponse
          in: query
          required: true
          schema:
            $ref: '#/components/schemas/QuestionnaireResponseDto'
      responses:
        "400":
          description: Bad Request
          content:
            'application/json':
              schema:
                $ref: '#/components/schemas/ErrorDto'
        "502":
          description: Bad Gateway
          content:
            'application/json':
              schema:
                $ref: '#/components/schemas/ErrorDto'
        "403":
          description: Forbidden
          content:
            'application/json':
              schema:
                $ref: '#/components/schemas/ErrorDto'
        "404":
          description: Not Found
          content:
            'application/json':
              schema:
                $ref: '#/components/schemas/ErrorDto'
        "500":
          description: Internal Server Error
          content:
            'application/json':
              schema:
                $ref: '#/components/schemas/ErrorDto'
        "200":
          description: OK
  /v1/patient:
    get:
      tags:
        - Patient
      operationId: getPatient
      parameters:
        - name: cpr
          in: query
          required: true
          schema:
            type: string
      responses:
        "400":
          description: Bad Request
          content:
            'application/json':
              schema:
                $ref: '#/components/schemas/ErrorDto'
        "502":
          description: Bad Gateway
          content:
            'application/json':
              schema:
                $ref: '#/components/schemas/ErrorDto'
        "403":
          description: Forbidden
          content:
            'application/json':
              schema:
                $ref: '#/components/schemas/ErrorDto'
        "404":
          description: Not Found
          content:
            'application/json':
              schema:
                $ref: '#/components/schemas/ErrorDto'
        "500":
          description: Internal Server Error
          content:
            'application/json':
              schema:
                $ref: '#/components/schemas/ErrorDto'
        "200":
          description: OK
          content:
            'application/json':
              schema:
                $ref: '#/components/schemas/PatientDto'
    post:
      tags:
        - Patient
      operationId: createPatient
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreatePatientRequest'
        required: true
      responses:
        "400":
          description: Bad Request
          content:
            'application/json':
              schema:
                $ref: '#/components/schemas/ErrorDto'
        "502":
          description: Bad Gateway
          content:
            'application/json':
              schema:
                $ref: '#/components/schemas/ErrorDto'
        "403":
          description: Forbidden
          content:
            'application/json':
              schema:
                $ref: '#/components/schemas/ErrorDto'
        "404":
          description: Not Found
          content:
            'application/json':
              schema:
                $ref: '#/components/schemas/ErrorDto'
        "500":
          description: Internal Server Error
          content:
            'application/json':
              schema:
                $ref: '#/components/schemas/ErrorDto'
        "200":
          description: OK
  /v1/questionnaireresponse/{id}:
    patch:
      tags:
        - QuestionnaireResponse
      operationId: patchQuestionnaireResponse
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: string
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PartialUpdateQuestionnaireResponseRequest'
        required: true
      responses:
        "400":
          description: Bad Request
          content:
            'application/json':
              schema:
                $ref: '#/components/schemas/ErrorDto'
        "502":
          description: Bad Gateway
          content:
            'application/json':
              schema:
                $ref: '#/components/schemas/ErrorDto'
        "403":
          description: Forbidden
          content:
            'application/json':
              schema:
                $ref: '#/components/schemas/ErrorDto'
        "404":
          description: Not Found
          content:
            'application/json':
              schema:
                $ref: '#/components/schemas/ErrorDto'
        "500":
          description: Internal Server Error
          content:
            'application/json':
              schema:
                $ref: '#/components/schemas/ErrorDto'
        "200":
          description: OK
  /v1/questionnaire/{id}:
    get:
      tags:
        - Questionnaire
      summary: Get Questionnaire by id.
      description: Retrieves a Questionnaire by its id.
      operationId: getQuestionnaireById
      parameters:
        - name: id
          in: path
          description: Id of the questionnaire to be retrieved.
          required: true
          schema:
            type: string
      responses:
        "400":
          description: Bad Request
          content:
            'application/json':
              schema:
                $ref: '#/components/schemas/ErrorDto'
        "502":
          description: Bad Gateway
          content:
            'application/json':
              schema:
                $ref: '#/components/schemas/ErrorDto'
        "403":
          description: Forbidden
          content:
            'application/json':
              schema:
                $ref: '#/components/schemas/ErrorDto'
        "404":
          description: CarePlan not found.
          content: { }
        "500":
          description: Internal Server Error
          content:
            'application/json':
              schema:
                $ref: '#/components/schemas/ErrorDto'
        "200":
          description: Successful operation.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/QuestionnaireDto'
    patch:
      tags:
        - Questionnaire
      operationId: patchQuestionnaire
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: string
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PatchQuestionnaireRequest'
        required: true
      responses:
        "400":
          description: Bad Request
          content:
            'application/json':
              schema:
                $ref: '#/components/schemas/ErrorDto'
        "502":
          description: Bad Gateway
          content:
            'application/json':
              schema:
                $ref: '#/components/schemas/ErrorDto'
        "403":
          description: Forbidden
          content:
            'application/json':
              schema:
                $ref: '#/components/schemas/ErrorDto'
        "404":
          description: Not Found
          content:
            'application/json':
              schema:
                $ref: '#/components/schemas/ErrorDto'
        "500":
          description: Internal Server Error
          content:
            'application/json':
              schema:
                $ref: '#/components/schemas/ErrorDto'
        "200":
          description: OK
  /v1/plandefinition/{id}:
    patch:
      tags:
        - PlanDefinition
      operationId: patchPlanDefinition
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: string
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PatchPlanDefinitionRequest'
        required: true
      responses:
        "400":
          description: Bad Request
          content:
            'application/json':
              schema:
                $ref: '#/components/schemas/ErrorDto'
        "502":
          description: Bad Gateway
          content:
            'application/json':
              schema:
                $ref: '#/components/schemas/ErrorDto'
        "403":
          description: Forbidden
          content:
            'application/json':
              schema:
                $ref: '#/components/schemas/ErrorDto'
        "404":
          description: Not Found
          content:
            'application/json':
              schema:
                $ref: '#/components/schemas/ErrorDto'
        "500":
          description: Internal Server Error
          content:
            'application/json':
              schema:
                $ref: '#/components/schemas/ErrorDto'
        "200":
          description: OK
  /v1/careplan/{id}:
    get:
      tags:
        - CarePlan
      summary: Get CarePlan by id.
      description: Retrieves a CarePlan by its id.
      operationId: getCarePlanById
      parameters:
        - name: id
          in: path
          description: Id of the CarePlan to be retrieved.
          required: true
          schema:
            type: string
      responses:
        "400":
          description: Bad Request
          content:
            'application/json':
              schema:
                $ref: '#/components/schemas/ErrorDto'
        "502":
          description: Bad Gateway
          content:
            'application/json':
              schema:
                $ref: '#/components/schemas/ErrorDto'
        "403":
          description: Forbidden
          content:
            'application/json':
              schema:
                $ref: '#/components/schemas/ErrorDto'
        "404":
          description: CarePlan not found.
          content: { }
        "500":
          description: Internal Server Error
          content:
            'application/json':
              schema:
                $ref: '#/components/schemas/ErrorDto'
        "200":
          description: Successful operation.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CarePlanDto'
    patch:
      tags:
        - CarePlan
      operationId: patchCarePlan
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: string
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UpdateCareplanRequest'
        required: true
      responses:
        "400":
          description: Bad Request
          content:
            'application/json':
              schema:
                $ref: '#/components/schemas/ErrorDto'
        "502":
          description: Bad Gateway
          content:
            'application/json':
              schema:
                $ref: '#/components/schemas/ErrorDto'
        "403":
          description: Forbidden
          content:
            'application/json':
              schema:
                $ref: '#/components/schemas/ErrorDto'
        "404":
          description: Not Found
          content:
            'application/json':
              schema:
                $ref: '#/components/schemas/ErrorDto'
        "500":
          description: Internal Server Error
          content:
            'application/json':
              schema:
                $ref: '#/components/schemas/ErrorDto'
        "200":
          description: OK
  /v1/user:
    get:
      tags:
        - User
      operationId: getUser
      responses:
        "400":
          description: Bad Request
          content:
            'application/json':
              schema:
                $ref: '#/components/schemas/ErrorDto'
        "502":
          description: Bad Gateway
          content:
            'application/json':
              schema:
                $ref: '#/components/schemas/ErrorDto'
        "403":
          description: Forbidden
          content:
            'application/json':
              schema:
                $ref: '#/components/schemas/ErrorDto'
        "404":
          description: Not Found
          content:
            'application/json':
              schema:
                $ref: '#/components/schemas/ErrorDto'
        "500":
          description: Internal Server Error
          content:
            'application/json':
              schema:
                $ref: '#/components/schemas/ErrorDto'
        "200":
          description: OK
          content:
            'application/json':
              schema:
                $ref: '#/components/schemas/UserContext'
  /v1/questionnaireresponse/{carePlanId}:
    get:
      tags:
        - QuestionnaireResponse
      operationId: getQuestionnaireResponsesByCarePlanId
      parameters:
        - name: carePlanId
          in: path
          required: true
          schema:
            type: string
        - name: questionnaireIds
          in: query
          required: true
          schema:
            type: array
            items:
              type: string
        - name: pageNumber
          in: query
          required: true
          schema:
            type: integer
            format: int32
        - name: pageSize
          in: query
          required: true
          schema:
            type: integer
            format: int32
      responses:
        "400":
          description: Bad Request
          content:
            'application/json':
              schema:
                $ref: '#/components/schemas/ErrorDto'
        "502":
          description: Bad Gateway
          content:
            'application/json':
              schema:
                $ref: '#/components/schemas/ErrorDto'
        "403":
          description: Forbidden
          content:
            'application/json':
              schema:
                $ref: '#/components/schemas/ErrorDto'
        "404":
          description: Not Found
          content:
            'application/json':
              schema:
                $ref: '#/components/schemas/ErrorDto'
        "500":
          description: Internal Server Error
          content:
            'application/json':
              schema:
                $ref: '#/components/schemas/ErrorDto'
        "200":
          description: OK
          content:
            'application/json':
              schema:
                $ref: '#/components/schemas/PaginatedListQuestionnaireResponseDto'
  /v1/questionnaire/{id}/used:
    get:
      tags:
        - Questionnaire
      summary: Checks if the questionnaire is in use by any planDefinitions
      description: Returns true if the questionnaire is in use by planDefinition and
        otherwise false if not
      operationId: isQuestionnaireInUse
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: string
      responses:
        "400":
          description: Bad Request
          content:
            'application/json':
              schema:
                $ref: '#/components/schemas/ErrorDto'
        "502":
          description: Bad Gateway
          content:
            'application/json':
              schema:
                $ref: '#/components/schemas/ErrorDto'
        "403":
          description: Forbidden
          content:
            'application/json':
              schema:
                $ref: '#/components/schemas/ErrorDto'
        "404":
          description: Not Found
          content:
            'application/json':
              schema:
                $ref: '#/components/schemas/ErrorDto'
        "500":
          description: Internal Server Error
          content:
            'application/json':
              schema:
                $ref: '#/components/schemas/ErrorDto'
        "200":
          description: OK
          content:
            'application/json':
              schema:
                type: boolean
  /v1/plandefinition/{id}/used:
    get:
      tags:
        - PlanDefinition
      summary: Checks if the plandefinition is in use by any careplans
      description: Returns true if the plandefinition is in use by careplans and otherwise
        false if not
      operationId: isPlanDefinitionInUse
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: string
      responses:
        "400":
          description: Bad Request
          content:
            'application/json':
              schema:
                $ref: '#/components/schemas/ErrorDto'
        "502":
          description: Bad Gateway
          content:
            'application/json':
              schema:
                $ref: '#/components/schemas/ErrorDto'
        "403":
          description: Forbidden
          content:
            'application/json':
              schema:
                $ref: '#/components/schemas/ErrorDto'
        "404":
          description: Not Found
          content:
            'application/json':
              schema:
                $ref: '#/components/schemas/ErrorDto'
        "500":
          description: Internal Server Error
          content:
            'application/json':
              schema:
                $ref: '#/components/schemas/ErrorDto'
        "200":
          description: OK
          content:
            'application/json':
              schema:
                type: boolean
  /v1/person:
    get:
      tags:
        - Person
      operationId: getPerson
      parameters:
        - name: cpr
          in: query
          required: true
          schema:
            type: string
      responses:
        "400":
          description: Bad Request
          content:
            'application/json':
              schema:
                $ref: '#/components/schemas/ErrorDto'
        "502":
          description: Bad Gateway
          content:
            'application/json':
              schema:
                $ref: '#/components/schemas/ErrorDto'
        "403":
          description: Forbidden
          content:
            'application/json':
              schema:
                $ref: '#/components/schemas/ErrorDto'
        "404":
          description: Not Found
          content:
            'application/json':
              schema:
                $ref: '#/components/schemas/ErrorDto'
        "500":
          description: Internal Server Error
          content:
            'application/json':
              schema:
                $ref: '#/components/schemas/ErrorDto'
        "200":
          description: OK
          content:
            'application/json':
              schema:
                $ref: '#/components/schemas/PersonDto'
  /v1/patients:
    get:
      tags:
        - Patient
      operationId: getPatients
      parameters:
        - name: includeActive
          in: query
          required: true
          schema:
            type: boolean
        - name: includeCompleted
          in: query
          required: true
          schema:
            type: boolean
        - name: page_number
          in: query
          required: true
          schema:
            type: integer
            format: int32
        - name: page_size
          in: query
          required: true
          schema:
            type: integer
            format: int32
      responses:
        "400":
          description: Bad Request
          content:
            'application/json':
              schema:
                $ref: '#/components/schemas/ErrorDto'
        "502":
          description: Bad Gateway
          content:
            'application/json':
              schema:
                $ref: '#/components/schemas/ErrorDto'
        "403":
          description: Forbidden
          content:
            'application/json':
              schema:
                $ref: '#/components/schemas/ErrorDto'
        "404":
          description: Not Found
          content:
            'application/json':
              schema:
                $ref: '#/components/schemas/ErrorDto'
        "500":
          description: Internal Server Error
          content:
            'application/json':
              schema:
                $ref: '#/components/schemas/ErrorDto'
        "200":
          description: OK
          content:
            'application/json':
              schema:
                $ref: '#/components/schemas/PatientListResponse'
  /v1/patientlist:
    get:
      tags:
        - Patient
      operationId: getPatientList
      responses:
        "400":
          description: Bad Request
          content:
            'application/json':
              schema:
                $ref: '#/components/schemas/ErrorDto'
        "502":
          description: Bad Gateway
          content:
            'application/json':
              schema:
                $ref: '#/components/schemas/ErrorDto'
        "403":
          description: Forbidden
          content:
            'application/json':
              schema:
                $ref: '#/components/schemas/ErrorDto'
        "404":
          description: Not Found
          content:
            'application/json':
              schema:
                $ref: '#/components/schemas/ErrorDto'
        "500":
          description: Internal Server Error
          content:
            'application/json':
              schema:
                $ref: '#/components/schemas/ErrorDto'
        "200":
          description: OK
          content:
            'application/json':
              schema:
                $ref: '#/components/schemas/PatientListResponse'
  /v1/patient/search:
    get:
      tags:
        - Patient
      operationId: searchPatients
      parameters:
        - name: searchString
          in: query
          required: true
          schema:
            type: string
      responses:
        "400":
          description: Bad Request
          content:
            'application/json':
              schema:
                $ref: '#/components/schemas/ErrorDto'
        "502":
          description: Bad Gateway
          content:
            'application/json':
              schema:
                $ref: '#/components/schemas/ErrorDto'
        "403":
          description: Forbidden
          content:
            'application/json':
              schema:
                $ref: '#/components/schemas/ErrorDto'
        "404":
          description: Not Found
          content:
            'application/json':
              schema:
                $ref: '#/components/schemas/ErrorDto'
        "500":
          description: Internal Server Error
          content:
            'application/json':
              schema:
                $ref: '#/components/schemas/ErrorDto'
        "200":
          description: OK
          content:
            'application/json':
              schema:
                $ref: '#/components/schemas/PatientListResponse'
  /v1/measurementtype:
    get:
      tags:
        - ValueSet
      summary: Get measurement types.
      description: Retrieves list of measurement types supported by the requestors
        organization.
      operationId: getMeasurementTypes
      responses:
        "400":
          description: Bad Request
          content:
            'application/json':
              schema:
                $ref: '#/components/schemas/ErrorDto'
        "502":
          description: Bad Gateway
          content:
            'application/json':
              schema:
                $ref: '#/components/schemas/ErrorDto'
        "403":
          description: Forbidden
          content:
            'application/json':
              schema:
                $ref: '#/components/schemas/ErrorDto'
        "404":
          description: Not Found
          content:
            'application/json':
              schema:
                $ref: '#/components/schemas/ErrorDto'
        "500":
          description: Internal Server Error
          content:
            'application/json':
              schema:
                $ref: '#/components/schemas/ErrorDto'
        "200":
          description: Successful operation.
          content:
            'application/json':
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/MeasurementTypeDto'
  /v1/careplan/{id}/questionnaires/unresolved:
    get:
      tags:
        - CarePlan
      operationId: getUnresolvedQuestionnaires
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: string
      responses:
        "400":
          description: Bad Request
          content:
            'application/json':
              schema:
                $ref: '#/components/schemas/ErrorDto'
        "502":
          description: Bad Gateway
          content:
            'application/json':
              schema:
                $ref: '#/components/schemas/ErrorDto'
        "403":
          description: Forbidden
          content:
            'application/json':
              schema:
                $ref: '#/components/schemas/ErrorDto'
        "404":
          description: Not Found
          content:
            'application/json':
              schema:
                $ref: '#/components/schemas/ErrorDto'
        "500":
          description: Internal Server Error
          content:
            'application/json':
              schema:
                $ref: '#/components/schemas/ErrorDto'
        "200":
          description: OK
          content:
            'application/json':
              schema:
                type: array
                items:
                  type: string
  /v1/careplan/plandefinition:
    get:
      tags:
        - CarePlan
      operationId: getPlanDefinitions_1
      parameters:
        - name: statusesToInclude
          in: query
          required: false
          schema:
            type: array
            items:
              type: string
      responses:
        "400":
          description: Bad Request
          content:
            'application/json':
              schema:
                $ref: '#/components/schemas/ErrorDto'
        "502":
          description: Bad Gateway
          content:
            'application/json':
              schema:
                $ref: '#/components/schemas/ErrorDto'
        "403":
          description: Forbidden
          content:
            'application/json':
              schema:
                $ref: '#/components/schemas/ErrorDto'
        "404":
          description: Not Found
          content:
            'application/json':
              schema:
                $ref: '#/components/schemas/ErrorDto'
        "500":
          description: Internal Server Error
          content:
            'application/json':
              schema:
                $ref: '#/components/schemas/ErrorDto'
        "200":
          description: OK
          content:
            'application/json':
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/PlanDefinitionDto'
components:
  schemas:
    ErrorDto:
      type: object
      properties:
        timestamp:
          type: string
          format: date-time
        status:
          type: integer
          format: int32
        error:
          type: string
        message:
          type: string
        path:
          type: string
        errorCode:
          type: integer
          format: int32
        errorText:
          type: string

    EnableWhen:
      type: object
      properties:
        answer:
          $ref: '#/components/schemas/AnswerDto'
        operator:
          type: string
          enum:
            - EQUAL
            - GREATER_THAN
            - LESS_THAN
            - GREATER_OR_EQUAL
            - LESS_OR_EQUAL
    MeasurementTypeDto:
      type: object
      properties:
        system:
          type: string
        code:
          type: string
        display:
          type: string
    Option:
      type: object
      properties:
        option:
          type: string
        comment:
          type: string
    QuestionDto:
      type: object
      properties:
        linkId:
          type: string
        text:
          type: string
        abbreviation:
          type: string
        helperText:
          type: string
        required:
          type: boolean
        questionType:
          type: string
          enum:
            - CHOICE
            - INTEGER
            - QUANTITY
            - STRING
            - BOOLEAN
            - DISPLAY
            - GROUP
        options:
          type: array
          items:
            $ref: '#/components/schemas/Option'
        enableWhen:
          type: array
          items:
            $ref: '#/components/schemas/EnableWhen'
        thresholds:
          type: array
          items:
            $ref: '#/components/schemas/ThresholdDto'
        measurementType:
          $ref: '#/components/schemas/MeasurementTypeDto'
        subQuestions:
          type: array
          items:
            $ref: '#/components/schemas/QuestionDto'
        parentQuestion:
          $ref: '#/components/schemas/QuestionDto'
        deprecated:
          type: boolean

    BaseDto:
      type: object
      properties:
        id:
          type: string
          description: Id of the resource


    QuestionnaireDto:
      allOf:
        - $ref: "#/components/schemas/BaseDto"
        - type: object
          properties:
            title:
              type: string
            status:
              type: string
            questions:
              type: array
              items:
                $ref: '#/components/schemas/QuestionDto'
            callToAction:
              $ref: '#/components/schemas/QuestionDto'
            version:
              type: string
            lastUpdated:
              type: string
              format: date-time



    ThresholdDto:
      type: object
      properties:
        questionId:
          type: string
        type:
          type: string
          enum:
            - NORMAL
            - ABNORMAL
            - CRITICAL
        valueBoolean:
          type: boolean
        valueQuantityLow:
          type: number
          format: double
        valueQuantityHigh:
          type: number
          format: double
        valueOption:
          type: string
    FrequencyDto:
      type: object
      properties:
        weekdays:
          type: array
          items:
            type: string
            enum:
              - MON
              - TUE
              - WED
              - THU
              - FRI
              - SAT
              - SUN
        timeOfDay:
          type: string

    PlanDefinitionDto:
      allOf:
        - $ref: "#/components/schemas/BaseDto"
        - type: object
          properties:
            name:
              type: string
            title:
              type: string
            status:
              type: string
            created:
              type: string
              format: date-time
            lastUpdated:
              type: string
              format: date-time
            questionnaires:
              type: array
              items:
                $ref: '#/components/schemas/QuestionnaireWrapperDto'

    QuestionnaireWrapperDto:
      type: object
      properties:
        questionnaire:
          $ref: '#/components/schemas/QuestionnaireDto'
        frequency:
          $ref: '#/components/schemas/FrequencyDto'
        satisfiedUntil:
          type: string
          format: date-time
        thresholds:
          type: array
          items:
            $ref: '#/components/schemas/ThresholdDto'

    CarePlanDto:
      allOf:
        - $ref: "#/components/schemas/BaseDto"
        - type: object
          properties:
            title:
              type: string
            status:
              type: string
            created:
              type: string
              format: date-time
            startDate:
              type: string
              format: date-time
            endDate:
              type: string
              format: date-time
            patientDto:
              $ref: '#/components/schemas/PatientDto'
            questionnaires:
              type: array
              items:
                $ref: '#/components/schemas/QuestionnaireWrapperDto'
            planDefinitions:
              type: array
              items:
                $ref: '#/components/schemas/PlanDefinitionDto'
            departmentName:
              type: string

    ContactDetailsDto:
      type: object
      properties:
        street:
          type: string
        postalCode:
          type: string
        country:
          type: string
        city:
          type: string
        primaryPhone:
          type: string
        secondaryPhone:
          type: string
    PatientDto:
      type: object
      properties:
        givenName:
          type: string
        familyName:
          type: string
        cpr:
          type: string
        customUserName:
          type: string
        patientContactDetails:
          $ref: '#/components/schemas/ContactDetailsDto'
        primaryRelativeName:
          type: string
        primaryRelativeAffiliation:
          type: string
        primaryRelativeContactDetails:
          $ref: '#/components/schemas/ContactDetailsDto'
        additionalRelativeContactDetails:
          type: array
          items:
            $ref: '#/components/schemas/ContactDetailsDto'
    AnswerDto:
      type: object
      properties:
        linkId:
          type: string
        value:
          type: string
        answerType:
          type: string
          enum:
            - INTEGER
            - STRING
            - BOOLEAN
            - QUANTITY
            - GROUP
        subAnswers:
          type: array
          items:
            $ref: '#/components/schemas/AnswerDto'

    QuestionAnswerPairDto:
      type: object
      properties:
        question:
          $ref: '#/components/schemas/QuestionDto'
        answer:
          $ref: '#/components/schemas/AnswerDto'
    QuestionnaireResponseDto:
      required:
        - id
      type: object
      properties:
        id:
          type: string
          description: Id of the resource
          example: CarePlan/10
        questionnaireId:
          type: string
        carePlanId:
          type: string
        questionnaireName:
          type: string
        questionAnswerPairs:
          type: array
          items:
            $ref: '#/components/schemas/QuestionAnswerPairDto'
        answered:
          type: string
          format: date-time
        examinationStatus:
          $ref: '#/components/schemas/examinationStatusDto'
        triagingCategory:
          type: string
          enum:
            - GREEN
            - YELLOW
            - RED
        patient:
          $ref: '#/components/schemas/PatientDto'
        planDefinitionTitle:
          type: string
    examinationStatusDto:
      type: string
      enum:
        - NOT_EXAMINED
        - UNDER_EXAMINATION
        - EXAMINED

    CreateQuestionnaireRequest:
      required:
        - questionnaire
      type: object
      properties:
        questionnaire:
          $ref: '#/components/schemas/QuestionnaireDto'
    CreatePlanDefinitionRequest:
      required:
        - planDefinition
      type: object
      properties:
        planDefinition:
          $ref: '#/components/schemas/PlanDefinitionDto'
    CreatePatientRequest:
      type: object
      properties:
        patient:
          $ref: '#/components/schemas/PatientDto'
    CreateCarePlanRequest:
      required:
        - carePlan
      type: object
      properties:
        carePlan:
          $ref: '#/components/schemas/CarePlanDto'
    PartialUpdateQuestionnaireResponseRequest:
      type: object
      properties:
        examinationStatus:
          $ref: '#/components/schemas/examinationStatusDto'
    PatchQuestionnaireRequest:
      type: object
      required:
        - title
        - description
        - status
        - callToAction
      properties:
        title:
          type: string
        description:
          type: string
        status:
          type: string
        questions:
          type: array
          items:
            $ref: '#/components/schemas/QuestionDto'
        callToAction:
          $ref: '#/components/schemas/QuestionDto'
    PatchPlanDefinitionRequest:
      type: object
      required:
        - name
        - status
      properties:
        name:
          type: string
        questionnaireIds:
          type: array
          items:
            type: string
        thresholds:
          type: array
          items:
            $ref: '#/components/schemas/ThresholdDto'
        status:
          type: string
          enum:
            - DRAFT
            - ACTIVE
            - RETIRED
    QuestionnaireFrequencyPairDto:
      type: object
      properties:
        id:
          type: string
        frequency:
          $ref: '#/components/schemas/FrequencyDto'
    UpdateCareplanRequest:
      type: object
      properties:
        planDefinitionIds:
          type: array
          items:
            type: string
        questionnaires:
          type: array
          items:
            $ref: '#/components/schemas/QuestionnaireFrequencyPairDto'
        patientPrimaryPhone:
          type: string
        patientSecondaryPhone:
          type: string
        primaryRelativeName:
          type: string
        primaryRelativeAffiliation:
          type: string
        primaryRelativePrimaryPhone:
          type: string
        primaryRelativeSecondaryPhone:
          type: string
    UserContext:
      type: object
      properties:
        orgId:
          type: string
        firstName:
          type: string
        lastName:
          type: string
        fullName:
          type: string
        authorizationIds:
          type: array
          items:
            type: string
        userId:
          type: string
        email:
          type: string
        entitlements:
          type: array
          items:
            type: string
        orgName:
          type: string
    PaginatedListQuestionnaireResponseDto:
      type: object
      properties:
        total:
          type: integer
          format: int32
        limit:
          type: integer
          format: int32
        offset:
          type: integer
          format: int32
        list:
          type: array
          items:
            $ref: '#/components/schemas/QuestionnaireResponseDto'
    PersonDto:
      type: object
      properties:
        cpr:
          type: string
        givenName:
          type: string
        familyName:
          type: string
        gender:
          type: string
        birthDate:
          type: string
        deceasedBoolean:
          type: boolean
        patientContactDetails:
          $ref: '#/components/schemas/ContactDetailsDto'
    PatientListResponse:
      type: object
      properties:
        patients:
          type: array
          items:
            $ref: '#/components/schemas/PatientDto'
