{"openapi":"3.0.1","info":{"title":"OpenAPI definition","version":"v0"},"servers":[{"url":"http://localhost:8080/api","description":"Generated server url"}],"tags":[{"name":"Patient","description":"API for manipulating and retrieving patients."},{"name":"QuestionnaireResponse","description":"API for manipulating and retrieving QuestionnaireResponses."},{"name":"PlanDefinition","description":"API for manipulating and retrieving PlanDefinitions."},{"name":"CarePlan","description":"API for manipulating and retrieving CarePlans."},{"name":"Person","description":"API for manipulating and retrieving information about persons."},{"name":"Questionnaire","description":"API for manipulating and retrieving Questionnaires."}],"paths":{"/v1/careplan":{"get":{"tags":["CarePlan"],"operationId":"getCarePlansByCpr","parameters":[{"name":"cpr","in":"query","required":false,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/CarePlanDto"}}}}}}},"put":{"tags":["CarePlan"],"operationId":"updateCarePlan","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CarePlanDto"}}}},"responses":{"200":{"description":"OK"}}},"post":{"tags":["CarePlan"],"summary":"Create a new CarePlan for a patient.","description":"Create a CarePlan for a patient, based on a PlanDefinition.","operationId":"createCarePlan","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateCarePlanRequest"}}},"required":true},"responses":{"500":{"description":"Error during creation of CarePlan."},"201":{"description":"Successful operation.","headers":{"Location":{"description":"URL pointing to the created CarePlan.","style":"simple"}}}}}},"/v1/questionnaireresponse":{"get":{"tags":["QuestionnaireResponse"],"operationId":"getQuestionnaireResponsesByStatus","parameters":[{"name":"status","in":"query","required":true,"schema":{"type":"array","items":{"type":"string","enum":["NOT_EXAMINED","UNDER_EXAMINATION","EXAMINED"]}}},{"name":"pageNumber","in":"query","required":true,"schema":{"type":"integer","format":"int32"}},{"name":"pageSize","in":"query","required":true,"schema":{"type":"integer","format":"int32"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/QuestionnaireResponseDto"}}}}}}},"post":{"tags":["QuestionnaireResponse"],"operationId":"createQuestionnaireResponse","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/QuestionnaireResponseDto"}}}},"responses":{"200":{"description":"OK"}}}},"/v1/patient":{"get":{"tags":["Patient"],"operationId":"getPatient","parameters":[{"name":"cpr","in":"query","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PatientDto"}}}}}},"post":{"tags":["Patient"],"operationId":"createPatient","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreatePatientRequest"}}},"required":true},"responses":{"200":{"description":"OK"}}}},"/v1/questionnaireresponse/{id}":{"patch":{"tags":["QuestionnaireResponse"],"operationId":"patchQuestionnaireResponse","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PartialUpdateQuestionnaireResponseRequest"}}},"required":true},"responses":{"200":{"description":"OK"}}}},"/v1/careplan/{id}":{"get":{"tags":["CarePlan"],"summary":"Get CarePlan by id.","description":"Retrieves a CarePlan by its id.","operationId":"getCarePlanById","parameters":[{"name":"id","in":"path","description":"Id of the CarePlan to be retrieved.","required":true,"schema":{"type":"string"}}],"responses":{"404":{"description":"CarePlan not found."},"200":{"description":"Successful operation.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CarePlanDto"}}}}}},"patch":{"tags":["CarePlan"],"operationId":"patchCarePlan","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PartialUpdateCareplanRequest"}}},"required":true},"responses":{"200":{"description":"OK"}}}},"/v1/questionnaireresponse/{cpr}":{"get":{"tags":["QuestionnaireResponse"],"operationId":"getQuestionnaireResponsesByCpr","parameters":[{"name":"cpr","in":"path","required":true,"schema":{"type":"string"}},{"name":"questionnaireIds","in":"query","required":true,"schema":{"type":"array","items":{"type":"string"}}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/QuestionnaireResponseDto"}}}}}}}},"/v1/questionnaire":{"get":{"tags":["Questionnaire"],"operationId":"getQuestionnaires","parameters":[{"name":"planDefinitionId","in":"query","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/QuestionnaireDto"}}}}}}}},"/v1/plandefinition":{"get":{"tags":["PlanDefinition"],"operationId":"getPlanDefinitions","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/PlanDefinitionDto"}}}}}}}},"/v1/person":{"get":{"tags":["Person"],"operationId":"getPerson","parameters":[{"name":"cpr","in":"query","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PersonDto"}}}}}}},"/v1/patientlist":{"get":{"tags":["Patient"],"operationId":"getPatientList","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PatientListResponse"}}}}}}}},"components":{"schemas":{"CarePlanDto":{"required":["id"],"type":"object","properties":{"id":{"type":"string","description":"Id of the CarePlan","example":"10"},"title":{"type":"string"},"status":{"type":"string"},"created":{"type":"string","format":"date-time"},"startDate":{"type":"string","format":"date-time"},"endDate":{"type":"string","format":"date-time"},"patientDto":{"$ref":"#/components/schemas/PatientDto"},"questionnaires":{"type":"array","items":{"$ref":"#/components/schemas/QuestionnaireWrapperDto"}},"planDefinitions":{"type":"array","items":{"$ref":"#/components/schemas/PlanDefinitionDto"}}}},"ContactDetailsDto":{"type":"object","properties":{"street":{"type":"string"},"postalCode":{"type":"string"},"country":{"type":"string"},"city":{"type":"string"},"primaryPhone":{"type":"string"},"secondaryPhone":{"type":"string"},"emailAddress":{"type":"string"}}},"FrequencyDto":{"type":"object","properties":{"weekday":{"type":"string","enum":["MON","TUE","WED","THU","FRI","SAT","SUN"]}}},"PatientDto":{"type":"object","properties":{"givenName":{"type":"string"},"familyName":{"type":"string"},"cpr":{"type":"string"},"patientContactDetails":{"$ref":"#/components/schemas/ContactDetailsDto"},"primaryRelativeContactDetails":{"$ref":"#/components/schemas/ContactDetailsDto"},"additionalRelativeContactDetails":{"type":"array","items":{"$ref":"#/components/schemas/ContactDetailsDto"}}}},"PlanDefinitionDto":{"type":"object","properties":{"id":{"type":"string"},"name":{"type":"string"},"title":{"type":"string"},"questionnaires":{"type":"array","items":{"$ref":"#/components/schemas/QuestionnaireWrapperDto"}}}},"QuestionDto":{"type":"object","properties":{"text":{"type":"string"},"required":{"type":"boolean"},"questionType":{"type":"string","enum":["CHOICE","INTEGER","QUANTITY","STRING"]},"options":{"type":"array","items":{"type":"string"}}}},"QuestionnaireDto":{"type":"object","properties":{"id":{"type":"string"},"title":{"type":"string"},"status":{"type":"string"},"questions":{"type":"array","items":{"$ref":"#/components/schemas/QuestionDto"}}}},"QuestionnaireWrapperDto":{"type":"object","properties":{"questionnaire":{"$ref":"#/components/schemas/QuestionnaireDto"},"frequency":{"$ref":"#/components/schemas/FrequencyDto"}}},"AnswerDto":{"type":"object","properties":{"value":{"type":"string"},"answerType":{"type":"string","enum":["INTEGER","STRING"]}}},"QuestionAnswerPairDto":{"type":"object","properties":{"question":{"$ref":"#/components/schemas/QuestionDto"},"answer":{"$ref":"#/components/schemas/AnswerDto"}}},"QuestionnaireResponseDto":{"type":"object","properties":{"id":{"type":"string"},"questionnaireId":{"type":"string"},"questionnaireName":{"type":"string"},"questionAnswerPairs":{"type":"array","items":{"$ref":"#/components/schemas/QuestionAnswerPairDto"}},"answered":{"type":"string","format":"date-time"},"examinationStatus":{"type":"string","enum":["NOT_EXAMINED","UNDER_EXAMINATION","EXAMINED"]},"triagingCategory":{"type":"string","enum":["RED","YELLOW","GREEN"]},"patient":{"$ref":"#/components/schemas/PatientDto"}}},"CreatePatientRequest":{"type":"object","properties":{"patient":{"$ref":"#/components/schemas/PatientDto"}}},"CreateCarePlanRequest":{"required":["cpr","planDefinitionId"],"type":"object","properties":{"cpr":{"type":"string","description":"Cpr-number of the patient that the careplan applies to.","example":"0101010101"},"planDefinitionId":{"type":"string","description":"Id of the plandefinition that the careplan should instantiate.","example":"2"}}},"PartialUpdateQuestionnaireResponseRequest":{"type":"object","properties":{"examinationStatus":{"type":"string","enum":["NOT_EXAMINED","UNDER_EXAMINATION","EXAMINED"]}}},"PartialUpdateCareplanRequest":{"type":"object","properties":{"questionnaireIds":{"type":"array","items":{"type":"string"}},"questionnaireFrequencies":{"type":"object","additionalProperties":{"$ref":"#/components/schemas/FrequencyDto"}}}},"PersonDto":{"type":"object","properties":{"cpr":{"type":"string"},"givenName":{"type":"string"},"familyName":{"type":"string"},"gender":{"type":"string"},"birthDate":{"type":"string"},"deceasedBoolean":{"type":"boolean"},"patientContactDetails":{"$ref":"#/components/schemas/ContactDetailsDto"}}},"PatientListResponse":{"type":"object","properties":{"patients":{"type":"array","items":{"$ref":"#/components/schemas/PatientDto"}}}}}}}